@(user: Member)
@main(user){

    <h1>Dashboard</h1>

    <table class="table table-bordered table-condensed table-striped" style="width: 40%;">
        <thead>
            <th style="text-align: center;">Plan</th>
            <th style="text-align: center;">Customers</th>
            <th style="text-align: center;">Price</th>
            <th style="text-align: center;">Total</th>
        </thead>
        <tbody style="text-align: right;">
            @defining(AdministratorDashboard.getAccounts.groupBy(_.getAccountType)) { accountTypes =>
                @for(accountType <- AccountType.values) {
                    @defining(accountTypes.get(accountType)) { entry =>
                        <tr>
                            <td style="text-align: left;" >@accountType</td>
                            <td>@formatters.NumberFormatter.format(entry.get.size)</td>
                            <td>@accountType.getPrice €</td>
                            <td>@(Math.round(entry.get.size * accountType.getPrice)) €</td>
                        </tr>
                    }
                }
            }
            <tr>
                <td></td>
                <td style="font-weight: bold;">@formatters.NumberFormatter.format(AdministratorDashboard.getAccounts.size)</td>
                <td></td>
                <td style="font-weight: bold;">@formatters.NumberFormatter.format((Math.round(AdministratorDashboard.getAccounts.map(a => a.getAccountType.getPrice).sum))) €</td>
            </tr>
        </tbody>
    </table>

}